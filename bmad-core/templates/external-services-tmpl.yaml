# External Services Template
# Insert this template just prior to Tasks/Subtasks section when external services are required

sections:
  - id: external-service-dependencies
    title: External Service Dependencies
    instruction: |
      Insert this section when story requires external service setup.
      Auto-detect MCP servers and API endpoints, populate accordingly.
      Include detailed manual setup as fallback.
    owner: scrum-master
    editors: [scrum-master, dev-agent]
    sections:
      - id: blocking-notice
        title: ⚠️ BLOCKING - Service Configuration Required
        template: |
          This story cannot proceed until external services below are configured.
          MCP/API configuration is preferred; manual setup available as fallback.
          
      - id: service-setup-tasks
        title: Service Setup Tasks
        type: checklist
        template: |
          - [ ] {{service_name}} Configuration
            - **MCP/API Method (Preferred):**
              - MCP Server: {{mcp_server_name}} (if available)
              - API Endpoint: {{api_endpoint}}
              - Environment Differences: {{none_or_describe_differences}}
              - Required Actions:
                1. {{specific_mcp_action_1}}
                2. {{specific_mcp_action_2}}
                3. {{specific_mcp_action_3}}
              - Dev Documentation Updates: {{dev_doc_updates_needed}}
              - Verification: {{mcp_verification_command}}
            
            - **Manual Setup (Fallback):**
              - Purpose: {{why_needed_for_story}}
              - Required Credentials: {{credential_type}}
              - Account Setup:
                1. {{manual_setup_step_1}}
                2. {{manual_setup_step_2}}
                3. {{manual_setup_step_3}}
              - Environment Variables:
                - {{env_var_1}}: {{env_var_1_description}}
                - {{env_var_2}}: {{env_var_2_description}}
              - Configuration Files: {{config_files_needed}}
              - Test Connection: {{manual_connection_test}}
              - Verification: {{manual_verification_command}}

      - id: setup-completion
        title: Setup Completion Checklist
        type: checklist
        template: |
          - [ ] Service credentials obtained and configured
          - [ ] Connection test successful
          - [ ] Environment variables set
          - [ ] Configuration files updated
          - [ ] Dev agent documentation updated (if applicable)
          - [ ] Ready for development tasks

# Usage Instructions:
# 1. Insert this template just before Tasks/Subtasks section in story
# 2. Replace {{placeholders}} with actual service details
# 3. Remove unused sections (MCP/API OR Manual, not both)
# 4. Ensure all checkboxes are completed before development begins